From 782fdcd83a6b793321d7c4c429c51430cc924f8e Mon Sep 17 00:00:00 2001
From: Debarshi Ray <debarshir@gnome.org>
Date: Thu, 5 Jan 2017 18:43:08 +0100
Subject: daemon: Don't leak the list of providers in goa_daemon_init

https://bugzilla.gnome.org/show_bug.cgi?id=765121
---
 src/daemon/goadaemon.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/daemon/goadaemon.c b/src/daemon/goadaemon.c
index b951e49..aa66826 100644
--- a/src/daemon/goadaemon.c
+++ b/src/daemon/goadaemon.c
@@ -337,6 +337,8 @@ goa_daemon_init (GoaDaemon *self)
   g_dbus_object_manager_server_set_connection (self->object_manager, self->connection);
 
   queue_check_credentials (self);
+
+  g_list_free_full (providers, g_object_unref);
 }
 
 static void
-- 
cgit v0.12

